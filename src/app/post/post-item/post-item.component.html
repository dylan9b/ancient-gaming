<section class="app-post-item">

  <div class="container">
    <div class="row">
      <div class="col-8 mx-auto mt-5">
        <span class="d-flex align-items-baseline justify-content-between">

          <a [routerLink]="['/posts', 'list']">
            <button mat-icon-button class="app-post-item__back-icon" aria-label="Delete post">
              <mat-icon>arrow_circle_left</mat-icon>
            </button>
          </a>

          <button mat-icon-button color="warn" aria-label="Delete post" (click)="deletePost()">
            <mat-icon>delete</mat-icon>
          </button>
        </span>

      </div>
      <div class="col-8 mx-auto">

        <form *ngIf="form" [formGroup]="form" (ngSubmit)="submitForm()">

          <!-- TITLE - START-->
          <div class="row">
            <div class="col-12">

              <mat-form-field class="w-100">
                <mat-label>Title</mat-label>
                <input type="text" matInput formControlName="title" placeholder="Ex. this is a title">
                <mat-error *ngIf="form?.get('title')?.errors?.['required']">
                  Title is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <!-- TITLE - END -->

          <!-- BODY - START -->
          <div class="row">
            <div class="col-12">
              <mat-form-field class="w-100">
                <mat-label>Body</mat-label>
                <textarea [rows]="5" matInput formControlName="body" placeholder="Ex. this is a body"> </textarea>
                <mat-error *ngIf="form?.get('body')?.errors?.['required']">
                  Body is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <!-- BODY - END -->

          <!-- CTA -->
          <div class="row">
            <div class="col-12">
              <div class="app-post-item__footer">
                <button matRipple [type]="form.get('id')?.value ? 'button' : 'reset'"
                  class="app-post-item__footer__cancel-btn" (click)="cancelForm()">
                  Cancel
                </button>
                <button matRipple type="submit" class="app-post-item__footer__save-btn"
                  [class.app-button__disabled]="!form.valid || (form.valid && !form.dirty)">
                  Save
                </button>
              </div>
            </div>
          </div>
          <!-- CTA - END -->
        </form>

      </div>
    </div>
  </div>
</section>
